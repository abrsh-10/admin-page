<div class="container">
  <h3 [ngStyle]="{ margin: 'auto' }">Users Page</h3>
  <select
    name="city"
    class="rounded-inputs20 select-select col-md-2"
    [(ngModel)]="filteredOption"
    (change)="filterTable()"
  >
    <option value="all">All</option>
    <option value="student">Students</option>
    <option value="teacher">Teachers</option>
    <option value="allowed">Allowed</option>
    <option value="non-allowed">Non-allowed</option>
  </select>
</div>
<div>
  <table class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th scope="col">First name</th>
        <th scope="col">Last name</th>
        <th scope="col">Email</th>
        <th scope="col">Role</th>
        <th scope="col">Access</th>
        <th scope="col" id="actions">Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let user of usersSortedByName">
        <td>{{ user.firstName.toUpperCase() }}</td>
        <td>{{ user.lastName.toUpperCase() }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.role }}</td>
        <td [ngClass]="{ access: user.isAllowed, not: !user.isAllowed }">
          <div></div>
          {{ user.isAllowed ? "allowed" : "not allowed" }}
        </td>
        <td>
          <button
            [ngClass]="user.isAllowed ? 'btn btn-danger' : 'btn btn-success'"
            (click)="updateUser(user)"
          >
            {{ user.isAllowed ? "revoke access" : "grant access" }}
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
